function AU_AdobeDynamicPixel(){function e(e,t){var i=top.document.getElementsByTagName("body")[0],a=document.createElement("img"),o="undefined"!=typeof t?"&c_pagename="+t:"",n="https://rogers.demdex.net/event?c_3rdparty="+e+o;console.log("RogersPixel: "+n),a.setAttribute("id","RogersPixel"),a.setAttribute("src",n),a.setAttribute("width",1),a.setAttribute("height",1),a.setAttribute("border",0),a.setAttribute("display","none !important"),i.appendChild(a),console.log("RogersPixel Written to Page")}function t(){return top.window.dataLayer.page.pageInfo.breadcrumbs?top.window.dataLayer.page.pageInfo.breadcrumbs.replace(/\s+/g,"-").replace(/,/g,"/").toLowerCase():""}function i(e){var t={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,i,a){t[i]=a}),"undefined"!=typeof t[e]?t[e].replace(/\+/g," ").toLowerCase():""}function a(e,t){for(var i=e.split("/"),a=i.length-1;a>=0;a--)""==i[a]&&i.splice(a,1);return void 0!==typeof t&&t>0&&i.splice(0,t),i.join("/")}function o(){var e=window.location.host.split(".");return e.length>2?e[0]:""}function n(e){var t=top.window.karma.config.targeting.type;return t.search(e)>-1}if(top.document.getElementById("RogersPixel"))return void console.log("Already has RogersPixel. Already done.");var r="",l="allrecipes.com",s=o().toLowerCase();if("dish"==s)r+="dish/";else if(("www"==s||""==s)&&!n(/recipe|post|homepage|recipe_hub|video|search/))return void console.log("No karma target found. No pixel created.");var d=""+top.window.karma.config.targeting.type;r+="homepage"==d?"homepage":"recipe"==d?d+"/"+t():"recipe_hub"==d?a(window.location.pathname,2):"search"==d?"search/results/"+i("wt"):"",console.log("Writing RogersPixel"),e(l,r)}function transfersubAUs(){PAUstring=PAUstring.splice(3,PAUstring.length),newAUstring=PAUstring.join("/"),window.adUtility.override.zone=newAUstring}function partnerdivadj(){console.log("3865 container div for 728x90|970x66|970x250 adjusted");var e=window.frameElement.parentElement.parentElement;e.style.width="100%",e.style.textAlign="center"}function resetnavstyle(){try{top.document.querySelector(".new-navigation").style.top="",top.document.querySelector(".new-navigation").style.position="",top.document.querySelector(".new-navigation").style.width=""}catch(e){}}function resetrightrailstuck(){var e=top.document.getElementById("dockingStylestemp");null!==e&&e.remove()}function pushit(){if(0==top.window.scrollY)resetnavstyle(),scrolling=!1;else if(!scrolling)try{top.window.innerWidth>1024&&(parseInt(document.getElementsByTagName("iframe")[0].height)>250?top.karma.releaseDocking():top.window.scrollY>0&&(top.document.querySelector(".new-navigation").style.top=122+adheight-90+"px",top.document.querySelector(".new-navigation").style.position="fixed",top.document.querySelector(".new-navigation").style.width="100%",scrolling=!0))}catch(e){}}function adherepushnav(){pushit(),top.document.onscroll=function(){top.window.scrollY<120&&(scrolling=!1),pushit()}}function fetchHeaderBids(e,t){function i(){var e=r.map(function(e){return l[e]}).filter(function(e){return e}).length===r.length;return e}function a(e){l.adserverRequestSent!==!0&&("a9"===e?(console.log("AMAZON SUCCESS"),apstag.setDisplayBids()):"index"===e&&console.log("INDEX SUCCESS"),l[e]=!0,i()&&o())}function o(){adUtility.slots[e.slotID].visibility&&l.adserverRequestSent!==!0&&(console.log("sendAdserverRequest",e.slotID),l.adserverRequestSent=!0,googletag.cmd.push(function(){googletag.pubads().refresh([l.apstagSlot.slot])}),delete adUtility.slots[e.slotID].bidRequestManager)}function n(e,t){apstag.fetchBids({slots:[e],timeout:t},function(e){a("a9")}),window.headertag.cmd.push(function(){var i=[{htSlotName:e.type}];setTimeout(function(){a("index")},t),window.headertag.retrieveDemand(i,function(t){t.slot&&t.slot[e.type]&&t.slot[e.type].forEach(function(t){for(var i in t.targeting)e.slot.setTargeting(i,t.targeting[i])}),console.log("INDEX TARGETING",e.slot.getTargetingMap()),a("index")})})}var r=["a9","index"],l={adserverRequestSent:!1,apstagSlot:e};r.forEach(function(e){l[e]=!1}),this.sendAdserverRequest=function(){i()&&o()},n(e,t),window.setTimeout(function(){o()},t),window.setTimeout(function(){delete adUtility.slots[e.slotID].bidRequestManager},3e4)}if(!adUtility.wrapper_loaded){adUtility.pageLevelTargetingDisabled=!1;var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var AURefKey=[],AURefDomain={ref:window.location.href,act:document.location.host};try{null!=AURefDomain.ref.match(/barbecue|grill|bbq/g)&&(AURefKey=["barbecue"],googletag.cmd.push(function(){googletag.pubads().setTargeting("tags",AURefKey)}))}catch(e){console.log(e)}var googletag=googletag||{};googletag.cmd=googletag.cmd||[];try{googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(0)})}catch(e){console.log(e.message)}try{AU_AdobeDynamicPixel()}catch(err){console.log("no access to top frame")}for(PAUstring=PAUstring.split("/"),console.log(PAUstring+" length: "+PAUstring.length),PAUstring.length>=3&&transfersubAUs(),null==document.location.pathname.match(/amp/g)&&-1!=document.getElementById("Multiad_lbslivbill")&&partnerdivadj(),adutil_target={},splitPAUkvs=JSON.parse(PAUKeyvals),wantedkvs=["pos","channel","contentType","type","id","ref_hub","r","h","t","k","kw","parent","tags"],j=0;j<wantedkvs.length;j++)splitPAUkvs[wantedkvs[j]]&&(adutil_target[wantedkvs[j]]=splitPAUkvs[wantedkvs[j]]);console.log(adutil_target);try{googletag.cmd.push(function(){var e=500;for(i=0;i<9;i++)setTimeout(function(){adUtility.processVisibility()},e),e+=500})}catch(e){console.error("Simple Section from URL Path - stopped:",e)}if(window.location.href.indexOf("mexican-rice-iii")>-1){var googletag=googletag||{};googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().setTargeting("allow_adx","false")})}var scrolling=!1,adheight,tempDockStyles=top.document.createElement("style");tempDockStyles.setAttribute("id","dockingStylestemp"),tempDockStyles.innerText=".railDockSection-0 .karma-rail-docking-element.karma-sticky-stuck.dockedLeaderboard{top:356px!important}.railDockSection-1 .karma-rail-docking-element.karma-sticky-stuck.dockedLeaderboard{top:356px!important}.railDockSection-2 .karma-rail-docking-element.karma-sticky-stuck.dockedLeaderboard{top:356px!important}.railDockSection-3 .karma-rail-docking-element.karma-sticky-stuck.dockedLeaderboard{top:356px!important}.railDockSection-4 .karma-rail-docking-element.karma-sticky-stuck.dockedLeaderboard{top:356px!important}";var googletag=googletag||{};googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(e){if("undefined"!=typeof e.size&&null!==e.size){if(frameElement.id.indexOf("tier1")>-1&&970==e.size[0]&&250==e.size[1]||frameElement.id.indexOf("tier1")>-1&&970==e.size[0]&&66==e.size[1]||frameElement.id.indexOf("tier1")>-1&&728==e.size[0]&&90==e.size[1]){resetnavstyle(),(970==e.size[0]&&66==e.size[1]||728==e.size[0]&&90==e.size[1])&&resetrightrailstuck();try{if((970==e.size[0]&&250==e.size[1]||970==e.size[0]&&66==e.size[1])&&250==e.size[1]&&(adheight=e.size[1],adherepushnav(),null!==top.document.getElementById("dockingStyles")&&null==top.document.getElementById("dockingStylestemp"))){var t=top.document.getElementById("dockingStyles").parentElement;t.append(tempDockStyles)}}catch(i){}}void 0!==document.getElementsByTagName("iframe")[0]&&parseInt(document.getElementsByTagName("iframe")[0].width)!==e.size[0]&&parseInt(document.getElementsByTagName("iframe")[0].height)!==e.size[1]||(window.frameElement.setAttribute("width",e.size[0]),window.frameElement.setAttribute("height",e.size[1]),window.frameElement.style.width=+e.size[0]+"px",window.frameElement.style.height=+e.size[1]+"px")}})});var version="External-Meredith-V1.1",googletag=googletag||{};googletag.cmd=googletag.cmd||[],"undefined"==typeof window.auAfterSlotDisplayedInitialized&&(document.addEventListener("auAfterDefineSlot",function(e){var t=!1;e.detail.type.search(/AD_MULTIAD_MOB|AD_BIGBOX|AD_LEADERBOARD|AD_MULTIAD_BB_HP_PRT|AD_MULTIAD_LBSLBBILL|AD_MULTIAD_LBSLIVBILL|AD_MULTIAD_MOB|AD_MULTISIZE_LEADERBOARD/)>=0&&(t=!0),"undefined"!=typeof apstag&&1==t&&(adUtility.slots[e.detail.id].bidRequestManager=new fetchHeaderBids({slotID:e.detail.id,slotName:e.detail.name,sizes:e.detail.size,type:e.detail.type,slot:e.detail.slot.slot},1e3))}),document.addEventListener("auAfterSlotDisplayed",function(e){var t=!1;e.detail.type.search(/AD_MULTIAD_MOB|AD_BIGBOX|AD_LEADERBOARD|AD_MULTIAD_BB_HP_PRT|AD_MULTIAD_LBSLBBILL|AD_MULTIAD_LBSLIVBILL|AD_MULTIAD_MOB|AD_MULTISIZE_LEADERBOARD/)>=0&&(t=!0),"undefined"!=typeof apstag&&1==t?adUtility.slots[e.detail.id].bidRequestManager?adUtility.slots[e.detail.id].bidRequestManager.sendAdserverRequest():adUtility.slots[e.detail.id].bidRequestManager=fetchHeaderBids({slotID:e.detail.id,slotName:e.detail.name,sizes:e.detail.size,type:e.detail.type,slot:e.detail.slot.slot},1e3):googletag.pubads().refresh([e.detail.slot.slot],{changeCorrelator:!1})})),window.auAfterSlotDisplayedInitialized=!0;try{var topdoc=window.top.document,moatheaderDiv=topdoc.getElementById("RSMmoatheader");if(null==moatheaderDiv||"undefined"==typeof moatheaderDiv){adUtility.logDebug("MOAT Header Analytics Tag - Creation");var moatScript=topdoc.createElement("script");moatScript.id="RSMmoatheader",moatScript.type="text/javascript",moatScript.async=!0,moatScript.src="https://z.moatads.com/rogerscommunicationsheader218955394182/moatheader.js",moatScript.onerror=function(e,t,i,a,o){console.error("MOAT Header Analytics Tag - Error on dependency injection: ",o),window.__MHS_E__rogerscommunicationsheader218955394182()};var firstScript=topdoc.getElementsByTagName("script")[0];firstScript.parentNode.insertBefore(moatScript,firstScript),adUtility.logDebug("MOAT Header Analytics Tag - Created!")}else adUtility.logDebug("MOAT Header Analytics Tag - exists already - Nothing done")}catch(error){console.error("MOAT Header Analytics Tag:",error)}var googletag=googletag||{};googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().setTargeting("tagtype","extAU"),console.log("External AU - tagtype=extAU pushed")});try{var gs_channels="DEFAULT";!function(){var e=window.location!==window.top.location?document.referrer:window.location,t=document.createElement("script");t.async=!0,t.onload=function(){"undefined"!=typeof adutil_target?adutil_target.grapeshot_segments=gs_channels:adutil_target={grapeshot_segments:gs_channels.join(",")},adUtility.logDebug('adutil_target.grapeshot_segments="'+gs_channels+'";')},t.src="//rogers.gscontxt.net/main/channels.cgi?url="+encodeURIComponent(e||window.location),document.head.appendChild(t)}()}catch(error){adUtility.logDebug("wrapper gs: ",error)}window==window.top&&(window.addEventListener("scroll",adUtility.processVisibility,!1),window.addEventListener("resize",adUtility.processVisibility,!1)),adUtility.checkPI()&&(adUtility.disableAds=!0),adUtility.networkId="7326,3865",adUtility.visibilityPercentage=50,adUtility.visibilityPercentageAutoRefresh=50,adUtility.site="en.allrecipes.web",adUtility.autoRefresh.limit=0,adUtility.lazyLoad=!1,rdmutil.gptLoaded||(rdmutil.gptLoaded=!0,rdmutil.queue.push(function(){var e=document.createElement("script");"false"==adUtility.getParameterByName("adutil_async")?e.async=!1:e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)})),googletag.cmd.push(function(){googletag.pubads().setTargeting("MOAT_IVT",["300x250_0-1","300x250_0-3","300x250_0-6","300x250_0-9","300x250_0-20","728x90_0-1","728x90_0-3","728x90_0-6","728x90_0-9","728x90_0-20","320x50_0","320x50_0-3","320x50_0-6","320x50_0-9","320x50_0-20","300x600_0","300x600_0-3","300x600_0-6","300x600_0-9","300x600_0-20","970x250_0-1","970x250_0-3","970x250_0-6","970x250_0-9","970x250_0-20","970x66_0","970x66_0-3","970x66_0-6","970x66_0-9","970x66_0-20"]).setTargeting("human_and_viewable_perc",["300x250_50-55","300x250_50-100","728x90_95-100","728x90_50-100","728x90_60-100","728x90_70-100","728x90_80-100","728x90_90-100","320x50_65-70","320x50_50-100","320x50_60-100","300x600_80-85","300x600_50-100","300x600_60-100","300x600_70-100","300x600_80-100","970x250_95-100","970x250_50-100","970x250_60-100","970x250_70-100","970x250_80-100","970x250_90-100","970x66_95-100","970x66_50-100","970x66_60-100","970x66_70-100","970x66_80-100","970x66_90-100"]).setTargeting("grapeshot_safe_percent",["300x250_50-100","728x90_50-100","728x90_60-100","728x90_70-100","728x90_80-100","320x50_100","320x50_50-100","320x50_60-100","320x50_70-100","320x50_80-100","320x50_90-100","300x600_50-100","970x250_50-100","970x66_50-100","970x66_60-100","970x66_70-100"]),adUtility.adUtilDebug&&console.log('googletag.pubads().setTargeting("MOAT_IVT", ["300x250_0-1","300x250_0-3","300x250_0-6","300x250_0-9","300x250_0-20","728x90_0-1","728x90_0-3","728x90_0-6","728x90_0-9","728x90_0-20","320x50_0","320x50_0-3","320x50_0-6","320x50_0-9","320x50_0-20","300x600_0","300x600_0-3","300x600_0-6","300x600_0-9","300x600_0-20","970x250_0-1","970x250_0-3","970x250_0-6","970x250_0-9","970x250_0-20","970x66_0","970x66_0-3","970x66_0-6","970x66_0-9","970x66_0-20"]).setTargeting("human_and_viewable_perc", ["300x250_50-55","300x250_50-100","728x90_95-100","728x90_50-100","728x90_60-100","728x90_70-100","728x90_80-100","728x90_90-100","320x50_65-70","320x50_50-100","320x50_60-100","300x600_80-85","300x600_50-100","300x600_60-100","300x600_70-100","300x600_80-100","970x250_95-100","970x250_50-100","970x250_60-100","970x250_70-100","970x250_80-100","970x250_90-100","970x66_95-100","970x66_50-100","970x66_60-100","970x66_70-100","970x66_80-100","970x66_90-100"]).setTargeting("grapeshot_safe_percent", ["300x250_50-100","728x90_50-100","728x90_60-100","728x90_70-100","728x90_80-100","320x50_100","320x50_50-100","320x50_60-100","320x50_70-100","320x50_80-100","320x50_90-100","300x600_50-100","970x250_50-100","970x66_50-100","970x66_60-100","970x66_70-100"])');var e=rdmutil.currentPath.replace(/[^a-zA-Z\d\s\-_\/]+/,"").replace(/\s+/,"_").replace(/^\/+/,"").replace(/\/+$/,"").split(/\/+/).filter(function(e){return""!=e});if(adUtility.pageLevelTargetingDisabled||(adUtility.override.section_key?googletag.pubads().setTargeting("section",adUtility.override.section_key):e.length>0?googletag.pubads().setTargeting("section",e[0]):googletag.pubads().setTargeting("section","homepage"),e.length>1&&googletag.pubads().setTargeting("page",e.join(","))),adUtility.getParameterByName("adutil_test")&&googletag.pubads().setTargeting("test_ops",adUtility.getParameterByName("adutil_test")),"undefined"!=typeof adutil_target&&!adUtility.pageLevelTargetingDisabled)for(var t in adutil_target){var i=adutil_target[t];googletag.pubads().setTargeting(t,i),adUtility.adUtilDebug&&console.log('googletag.pubads().setTargeting("'+t+'","'+i+'");')}var a=adUtility.getCookie("aam_uuid"),o=adUtility.getCookie("aam_dfp");if(a&&""!=a&&googletag.pubads().setTargeting("aam_uuid",a),o&&""!=o&&googletag.pubads().setTargeting("aam_dfp",o.split(",")),adUtility.companion&&(adUtility.companion=!0,googletag.companionAds().setRefreshUnfilledSlots(!0),adUtility.adUtilDebug&&console.log("googletag.companionAds().setRefreshUnfilledSlots(true);")),adUtility.third_party_ok?googletag.pubads().setTargeting("cookies_accepted","true"):googletag.pubads().setTargeting("cookies_accepted","false"),("undefined"!=typeof adUtility.disableInitialLoad&&adUtility.disableInitialLoad||"undefined"==typeof adUtility.disableInitialLoad)&&(googletag.pubads().disableInitialLoad(),adUtility.adUtilDebug&&console.log("googletag.pubads().disableInitialLoad();")),!rdmutil.gptEnabled){rdmutil.gptEnabled=!0,googletag.pubads().enableVideoAds(),googletag.pubads().enableAsyncRendering(),googletag.enableServices(),adUtility.processVisibility(),adUtility.adUtilDebug&&console.log("googletag.enableServices()");for(var n=0;n<rdmutil.cmd.length;++n)rdmutil.queue.push(rdmutil.cmd[n]);rdmutil.cmd=rdmutil.queue}}),adUtility.processVisibility(),window.onload=function(){adUtility.processVisibility()}}adUtility.wrapper_loaded=!0;